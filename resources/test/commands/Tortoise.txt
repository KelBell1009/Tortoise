# This file's main purpose is as a place to temporarily add new
# language tests during development without having to depend on
# a new NetLogoHeadlessTests artifact.  if the test you add
# here should pass on JVM NetLogo too, then before committing
# and pushing, please add the test to the NetLogo repo instead.

Smoke
  2 + 2 => 4
  netlogo-web? => true

MapExtension
  extensions [nlmap]
  globals [ basic ]
  O> set basic (nlmap:from-list [["apples" 4] ["oranges" 6]])
  nlmap:to-list (nlmap:from-list []) => []
  nlmap:to-list (nlmap:from-list [["apples" 4] ["oranges" 6]]) => [["apples" 4] ["oranges" 6]]
  nlmap:to-list (nlmap:add basic "grapes" 9001) => [["apples" 4] ["oranges" 6] ["grapes" 9001]]
  nlmap:to-list (nlmap:remove basic "apples") => [["oranges" 6]]
  nlmap:to-list (nlmap:remove basic "oranges") => [["apples" 4]]
  nlmap:to-list (nlmap:remove basic "grapes") => [["apples" 4] ["oranges" 6]]
  nlmap:to-list (nlmap:remove (nlmap:add basic "grapes" 9001) "grapes") => [["apples" 4] ["oranges" 6]]
  nlmap:is-map? basic => true
  nlmap:is-map? [] => false
  nlmap:is-map? 49 => false
  nlmap:is-map? true => false
  nlmap:is-map? false => false
  nlmap:is-map? "string" => false
  nlmap:is-map? nobody => false
  nlmap:get basic "apples" => 4
  nlmap:get basic "oranges" => 6
  nlmap:get (nlmap:remove basic "apples") "oranges" => 6
  nlmap:get (nlmap:add basic "grapes" 9001) "grapes" => 9001
  nlmap:get (nlmap:add basic "grapes" 9001) "oranges" => 6
  nlmap:get (nlmap:remove (nlmap:add basic "grapes" 9001) "grapes") "apples" => 4
  nlmap:get (nlmap:remove (nlmap:add basic "grapes" 9001) "grapes") "oranges" => 6
  nlmap:get (nlmap:remove (nlmap:add basic "grapes" 9001) "apples") "grapes" => 9001
  nlmap:get (nlmap:remove (nlmap:add basic "grapes" 9001) "apples") "oranges" => 6

CodapExtension
  extensions [codap]
  O> codap:init ([[] ->])
  O> codap:call (nlmap:from-list [])

ImportWorld
  globals [select-computer-strategy?]
  breed [computers computer]
  breed [users user]
  turtles-own [defect-now? partner partner-defected? partner-defected-past?]
  select-computer-strategy? => 0
  O> import-world "asdf"
  random 100 => 98
  random 100 => 72
  random 100 => 12
  random 100 => 19
  random 100 => 38

  select-computer-strategy? => "true"
  subject => "nobody"
  ticks => 56
  min-pxcor => -17
  max-pycor => 8
  [pcolor] of patch 4 8 => 5
  [color] of turtle 1 => 125
  [partner] of turtle 0 => "1"
  (word [breed] of turtle 1) => "users"
